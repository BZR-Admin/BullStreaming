<!DOCTYPE html>
<html lang="es">
<head>
ย ย <meta charset="UTF-8">
ย ย <meta name="viewport" content="width=device-width, initial-scale=1.0">
ย ย <title>Bull Streaming - Tu Centro de Entretenimiento</title>
ย ย <link rel="stylesheet" href="style.css">
ย ย <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700;900&display=swap" rel="stylesheet">
    <!-- รconos Font Awesome (Requerido para la secciรณn "Por quรฉ elegirnos") -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- 1. Carga de bibliotecas de Firebase (Necesario para el contador) -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, getDoc, setDoc, updateDoc, collection, getDocs, runTransaction, setLogLevel } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // Establecer nivel de log para depuraciรณn de Firestore
        setLogLevel('Debug');

        // Variables globales de Canvas (se proporcionan en tiempo de ejecuciรณn)
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {};
        const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;

        let db, auth;

        // Funciรณn de inicializaciรณn y autenticaciรณn
        async function initializeFirebase() {
            try {
                const app = initializeApp(firebaseConfig);
                db = getFirestore(app);
                auth = getAuth(app);

                if (initialAuthToken) {
                    await signInWithCustomToken(auth, initialAuthToken);
                    console.log("Autenticaciรณn con token personalizada exitosa.");
                } else {
                    await signInAnonymously(auth);
                    console.log("Autenticaciรณn anรณnima exitosa.");
                }
                
                // Una vez autenticado, inicializa el contador
                if(auth.currentUser) {
                    await updateDailyPageViewCount();
                }

            } catch (error) {
                console.error("Error al inicializar o autenticar Firebase:", error);
            }
        }

        /**
         * Lรณgica para obtener la fecha actual en formato YYYY-MM-DD
         * @returns {string} Fecha actual.
         */
        function getCurrentDateString() {
            const now = new Date();
            const year = now.getFullYear();
            const month = String(now.getMonth() + 1).padStart(2, '0');
            const day = String(now.getDate()).padStart(2, '0');
            return `${year}-${month}-${day}`;
        }
        
        /**
         * Actualiza el contador de visitas diarias en Firestore.
         */
        async function updateDailyPageViewCount() {
            const today = getCurrentDateString();
            // Ruta del documento para el contador de visitas diarias pรบblicas
            const counterRef = doc(db, 'artifacts', appId, 'public', 'data', 'counters', 'daily_visits');
            const counterElement = document.getElementById('contador-visitas');
            
            try {
                await runTransaction(db, async (transaction) => {
                    const counterDoc = await transaction.get(counterRef);

                    let currentCount = 0;
                    let lastDate = null;
                    
                    // Si el documento existe, obtenemos los datos
                    if (counterDoc.exists()) {
                        const data = counterDoc.data();
                        currentCount = data.count || 0;
                        lastDate = data.date;
                    }

                    // 1. Lรณgica de Reinicio Diario
                    if (lastDate === today) {
                        // Mismo dรญa: solo incrementamos el contador
                        currentCount += 1;
                        transaction.update(counterRef, { count: currentCount });
                    } else {
                        // Nuevo dรญa: reiniciamos el contador a 1 y actualizamos la fecha
                        currentCount = 1;
                        transaction.set(counterRef, { count: currentCount, date: today }, { merge: true });
                    }

                    // 2. Actualizar el DOM
                    if (counterElement) {
                        counterElement.textContent = currentCount.toLocaleString('es-ES');
                    }
                });
                console.log("Contador de visitas actualizado con รฉxito.");
            } catch (error) {
                console.error("Error en la transacciรณn del contador de visitas:", error);
                if (counterElement) {
                    counterElement.textContent = "N/A";
                }
            }
        }

        // Iniciar todo al cargar la pรกgina
        window.onload = initializeFirebase;
    </script>
</head>
<body>

ย ย <header class="header">
ย ย ย ย <div class="container">
ย ย ย ย ย ย <div class="logo-container">
ย ย ย ย ย ย ย ย <img src="logo-bull-streaming.png" alt="Bull Streaming Logo" class="logo">
ย ย ย ย ย ย </div>
ย ย ย ย ย ย <nav class="nav">
ย ย ย ย ย ย ย ย <a href="index.html" class="nav-link current">Inicio</a>
ย ย ย ย ย ย ย ย <a href="precios.html" class="nav-link">Precios</a>
ย ย ย ย ย ย ย ย <a href="revendedores.html" class="nav-link">Revendedores</a>
ย ย ย ย ย ย ย ย <a href="contacto.html" class="nav-link">Contacto</a>
ย ย ย ย ย ย ย ย </nav>
ย ย ย ย </div>
ย ย </header>

ย ย <main class="hero-section">
ย ย ย ย <div class="container">
ย ย ย ย ย ย <div class="hero-content">
ย ย ย ย ย ย ย ย <h1 class="hero-title neon-yellow">
ย ย ย ย ย ย ย ย ย ย El mejor centro de entretenimiento. <br>
ย ย ย ย ย ย ย ย ย ย Todas las plataformas de streaming, 100% confiables y al mejor precio.
ย ย ย ย ย ย ย ย </h1>
ย ย ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย <div class="hero-cta-group">
ย ย ย ย ย ย ย ย ย ย <a href="precios.html" class="btn btn-primary btn-neon-red">
ย ย ย ย ย ย ย ย ย ย ย ย Ver Planes y Precios โก
ย ย ย ย ย ย ย ย ย ย </a>
ย ย ย ย ย ย ย ย ย ย <a href="revendedores.html" class="btn btn-secondary btn-neon-cyan">
ย ย ย ย ย ย ย ย ย ย ย ย Conviรฉrtete en Revendedor ๐
ย ย ย ย ย ย ย ย ย ย </a>
ย ย ย ย ย ย ย ย </div>
                
                <!-- NUEVO ELEMENTO: Recuadro del Contador de Visitas -->
                <div class="visits-counter-box" style="margin-top: 30px;">
                    <p class="counter-label">Visitas de Hoy:</p>
                    <!-- El ID "contador-visitas" es donde el script inyectarรก el nรบmero -->
                    <span id="contador-visitas" class="counter-value neon-yellow">...</span>
                </div>
                <!-- FIN NUEVO ELEMENTO -->

ย ย ย ย ย ย </div>
ย ย ย ย </div>
ย ย </main>

ย ย <section class="propuesta-valor">
ย ย ย ย <div class="container">
ย ย ย ย ย ย <h2 class="section-title neon-cyan">ยฟPor Quรฉ Elegir Bull Streaming?</h2>
ย ย ย ย ย ย <div class="valor-grid">
ย ย ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย <div class="valor-item">
ย ย ย ย ย ย ย ย ย ย <i class="icon fas fa-check-circle neon-red"></i> <!-- Usando Font Awesome -->
ย ย ย ย ย ย ย ย ย ย <h3>Activaciรณn Inmediata</h3>
ย ย ย ย ย ย ย ย ย ย <p>Recibe tu cuenta y empieza a ver contenido en cuestiรณn de minutos.</p>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย <div class="valor-item">
ย ย ย ย ย ย ย ย ย ย <i class="icon fas fa-shield-alt neon-red"></i> <!-- Usando Font Awesome -->
ย ย ย ย ย ย ย ย ย ย <h3>Soporte Garantizado</h3>
ย ย ย ย ย ย ย ย ย ย <p>Te ayudamos con cualquier duda o problema durante toda tu suscripciรณn. Soporte tรฉcnico 24/7.</p>
ย ย ย ย ย ย ย ย </div>

ย ย ย ย ย ย ย ย <div class="valor-item">
ย ย ย ย ย ย ย ย ย ย <i class="icon fas fa-credit-card neon-red"></i> <!-- Usando Font Awesome -->
ย ย ย ย ย ย ย ย ย ย <h3>Pagos Fรกciles y Seguros</h3>
ย ย ย ย ย ย ย ย ย ย <p>Aceptamos mรบltiples mรฉtodos de pago, simplificando tu experiencia de compra.</p>
ย ย ย ย ย ย ย ย </div>

ย ย ย ย ย ย </div>
ย ย ย ย </div>
ย ย </section>

ย ย <section class="plataformas-populares">
ย ย ย ย <div class="container">
ย ย ย ย ย ย <h2 class="section-title neon-yellow">Plataformas Populares</h2>
ย ย ย ย ย ย <div class="logos-grid">
ย ย ย ย ย ย ย ย <img src="netflix.png" alt="N3tflix">
ย ย ย ย ย ย ย ย <img src="disney.png" alt="Dlsney+">
ย ย ย ย ย ย ย ย <img src="hbo.png" alt="HB0 Max">
ย ย ย ย ย ย ย ย <img src="spotify.png" alt="Spot1fy">
ย ย ย ย ย ย ย ย <img src="prime.png" alt="Amazon Pr1me V1deo">
ย ย ย ย ย ย ย ย <img src="flujo.png" alt="Flujo TV">
ย ย ย ย ย ย ย ย </div>
ย ย ย ย </div>
ย ย </section>

ย ย <section class="ofertas-destacadas">
ย ย ย ย <div class="container">
ย ย ย ย ย ย <h2 class="section-title neon-red">ยกOferta Destacada del Mes!</h2>
ย ย ย ย ย ยย
ย ย ย ย ย ย <div class="oferta-card">
ย ย ย ย ย ย ย ย <p class="etiqueta-ahorro">๐ฅ PLATAFORMA MรS VENDIDA ๐ฅ</p>
ย ย ย ย ย ย ย ย <h3>PRIME VIDEO</h3>
ย ย ย ย ย ย ย ย <p class="precio-antes">Precio regular: $2.50</p>
ย ย ย ย ย ย ย ย <p class="precio-oferta neon-yellow">$2.00 / mes</p>
ย ย ย ย ย ย ย ย <a href="precios.html" class="btn btn-principal btn-neon-cyan">
ย ย ย ย ย ย ย ย ย ย ยกLo Quiero! Ver Detalles
ย ย ย ย ย ย ย ย </a>
ย ย ย ย ย ย </div>

ย ย ย ย ย ย <p class="small-text">Vรกlido hasta fin de mes.</p>
ย ย ย ย </div>
ย ย </section>

ย ย <footer class="footer">
ย ย ย ย <div class="container">
ย ย ย ย ย ย <p>&copy; 2024 Bull Streaming. Todos los derechos reservados.</p>
ย ย ย ย ย ย <div class="footer-links">
ย ย ย ย ย ย ย ย <a href="contacto.html" class="footer-link">Contacto</a>
ย ย ย ย ย ย ย ย <a href="#" class="footer-link">Tรฉrminos y Condiciones</a>
ย ย ย ย ย ย ย ย <a href="#" class="footer-link">Polรญtica de Privacidad</a>
ย ย ย ย ย ย </div>
ย ย ย ย </div>
ย ย </footer>

</body>
</html>
